<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/style.css') }}" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="../static/styles/style.css" type="text/css">
    <title>Document</title>
</head>
<body>
    <section class="">
        <div class="row-container">

            <div class="column-container">
                <div class="header-box">
                    <p class="database-name">Language Questionary DB</p>
                </div>
    
                <div class="datatable-box">
                    <div class="datatable-wrapper">
                        <div class="table">
                            <table id="user-datatable">
                                <thead>
                                    <tr>
                                        <th><input type="checkbox" class="checkboxed-all new-checkbox" id="checkboxed-all"></th>
                                        <th>ID</th>
                                        <th>Имя</th>
                                        <th>Телефон</th>
                                        <th>Тип</th>
                                        <th>Возраст</th>
                                        <th>Язык(и)</th>
                                        <th>Знания</th>
                                        <th>Для чего</th>
                                        <th>Дата</th>
                                    </tr>
                                </thead>
                                <tbody id="user-datatable-tablebody">
                                    {% for i in users %}
                                    <tr>
                                        <td><input type="checkbox" class="user-checkbox new-checkbox" data-row="{{ loop.index0 }}"></td>
                                        <td>{{ users[i].id }}</td> <!--id Пользовтателя-->
                                        <td>{{ users[i].fName }}</td> <!--Имя Пользовтателя-->
                                        <td>{{ users[i].phone }}</td> <!--Телефон Пользовтателя-->
                                        <td>{{ users[i].pType }}</td> <!--Тип Пользовтателя-->
                                        <td>{{ users[i].pAge }}</td> <!--Возраст Пользовтателя-->
                                        <td>{{ users[i].languages|join("\n") }}</td> <!--Языки-->
                                        <td>{{ users[i].levels|join("\n") }}</td> <!--Уровни владения языками-->
                                        <td>{{ users[i].purpose|join("\n") }}</td> <!--Цели изучения-->
                                        <td>{{ users[i].date }}</td> <!--Дата прохождения теста-->
                                    </tr>
                                    {% endfor %}
                                </tbody>
                                <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                                <script src="{{ url_for('static', filename='js/get_users_ids.js') }}"></script>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
    
            <div class="filter-box">
                <div class="filter-wrapper">
                    <label>Выберите тип:</label>
                    <select name="person-type" id="person-type">
                        <option value="empty">Не учитывать</option>
                        <option value="adult">Для себя</option>
                        <option value="child">Для ребенка</option>
                    </select>

                    <label>Укажите диапазон возрастов:</label>
                    <div class="age-range">
                        <span class="range-text">От:</span><input type="number" id="age-from" placeholder="1" value=1>
                        <span class="range-text">До:</span><input type="number" id="age-to" placeholder="99" value=99>
                    </div>

                    <label>Выберите языки:</label>
                    <div class="language-checkbox-container">
                        <div class="custom-checkbox">
                            <input type="checkbox" class="new-checkbox language-checkbox" value="Английский"><span class="checkbox-text">Английский</span>
                        </div>
                        <div class="custom-checkbox">
                            <input type="checkbox" class="new-checkbox language-checkbox" value="Немецкий"><span class="checkbox-text">Немецкий</span>
                        </div>
                        <div class="custom-checkbox">
                            <input type="checkbox" class="new-checkbox language-checkbox" value="Французкий"><span class="checkbox-text">Французкий</span>
                        </div>
                        <div class="custom-checkbox">
                            <input type="checkbox" class="new-checkbox language-checkbox" value="Испанский"><span class="checkbox-text">Испанский</span>
                        </div>
                        <div class="custom-checkbox">
                            <input type="checkbox" class="new-checkbox language-checkbox" value="Китайский"><span class="checkbox-text">Китайский</span>
                        </div>
                    </div>

                    <button class="btn" id="submit-settings">Применить фильтрацию</button>
                    <button class="btn" id="reset-settings">Сбросить фильтрацию</button>

                    <label>Текст рассылки:</label>
                    <textarea class="text-field" id="text-area"></textarea>

                    <label>Прикрепите файлы (<span id="files-counter">0</span>/<span>5</span>)</label>
                    <input type="file" id="file-input" multiple>
                    <ul id="file-output" class="file-output">
                    </ul>

                    <button class="btn" id="send-message">Отправить сообщение</button>
                    <input class="btn" type="datetime-local" id="date-input">
                    <div class="btn-container">
                        <button class="btnS btn" id="delay-send-message">Отложить сообщение</button>
                        <button class="btnS btn">Открыть отложенные</button>
                    </div>
                </div>
            </div>
    
        </div>
    </section>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="{{ url_for('static', filename='js/get_filter_settings.js') }}"></script>
    <script src="{{ url_for('static', filename='js/get_text_files.js') }}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
</body>
</html>
